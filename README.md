<div align="center">

# ğŸ™ï¸ Light-Whisper è½»è¯­

**ä¼˜é›…çš„ä¸­æ–‡è¯­éŸ³è½¬æ–‡å­—æ¡Œé¢åº”ç”¨**

[![Tauri](https://img.shields.io/badge/Tauri-2.0-blue?style=flat-square&logo=tauri)](https://tauri.app/)
[![React](https://img.shields.io/badge/React-19-61dafb?style=flat-square&logo=react)](https://react.dev/)
[![Rust](https://img.shields.io/badge/Rust-2021-orange?style=flat-square&logo=rust)](https://www.rust-lang.org/)
[![FunASR](https://img.shields.io/badge/FunASR-Paraformer-green?style=flat-square)](https://github.com/modelscope/FunASR)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue?style=flat-square)](LICENSE)

<img src="assets/icon.png" alt="Light-Whisper Logo" width="120" />

*æŒ‰ä¸‹ F2ï¼Œå¼€å£è¯´è¯ï¼Œæ¾å¼€å³å¾—æ–‡å­—*

[åŠŸèƒ½ç‰¹ç‚¹](#åŠŸèƒ½ç‰¹ç‚¹) â€¢
[å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢
[å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—) â€¢
[é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)

</div>

---

## åŠŸèƒ½ç‰¹ç‚¹

- **F2 ä¸€é”®è½¬å†™** - æŒ‰ä½è¯´è¯ï¼Œæ¾å¼€å³å¾—æ–‡å­—ï¼Œè‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿
- **æœ¬åœ°ç¦»çº¿è¿è¡Œ** - åŸºäº FunASR Paraformerï¼Œæ— éœ€è”ç½‘
- **GPU åŠ é€Ÿ** - æ”¯æŒ CUDAï¼Œè‡ªåŠ¨æ£€æµ‹å¹¶å¯ç”¨
- **æ‚¬æµ®çª— + æ‰˜ç›˜** - å§‹ç»ˆç½®é¡¶ï¼Œæœ€å°åŒ–åˆ°æ‰˜ç›˜

---

## å¿«é€Ÿå¼€å§‹

è¯·å‚é˜…ä¸‹æ–¹ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—) ä»æºç æ„å»ºè¿è¡Œ

---

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ

| æ“ä½œ | è¯´æ˜ |
|------|------|
| **æŒ‰ä½ F2** | å¼€å§‹å½•éŸ³ï¼ˆæ¾å¼€åè‡ªåŠ¨è½¬å†™ï¼‰ |
| **ç‚¹å‡»åœ†å½¢æŒ‰é’®** | å¼€å§‹/åœæ­¢å½•éŸ³ |
| **ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡** | å³é”®èœå•ï¼šæ˜¾ç¤ºçª—å£ / é€€å‡º |
| **è®¾ç½®é¡µé¢** | ç‚¹å‡»å³ä¸Šè§’é½¿è½®å›¾æ ‡ |

### çŠ¶æ€æŒ‡ç¤º

| å›¾æ ‡/æ–‡å­— | å«ä¹‰ |
|----------|------|
| ğŸŸ¢ `GPU: NVIDIA RTX...` | æ­£åœ¨ä½¿ç”¨ GPU åŠ é€Ÿ |
| ğŸ”µ `CPU` | æ­£åœ¨ä½¿ç”¨ CPU æ¨ç† |
| â³ `æ¨¡å‹åŠ è½½ä¸­...` | é¦–æ¬¡å¯åŠ¨ï¼Œæ­£åœ¨åŠ è½½æ¨¡å‹ |
| ğŸ“¥ `ä¸‹è½½ä¸­ 45%` | æ­£åœ¨ä¸‹è½½ ASR æ¨¡å‹ |

---

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

| å·¥å…· | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Node.js** | >= 18 | å‰ç«¯è¿è¡Œæ—¶ |
| **pnpm** | >= 8 | åŒ…ç®¡ç†å™¨ |
| **Rust** | >= 1.75 | åç«¯ç¼–è¯‘ |
| **Python** | >= 3.11 | ASR æœåŠ¡ |
| **uv** | >= 0.4 | Python åŒ…ç®¡ç† |

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/sypsyp97/light-whisper.git
cd light-whisper
```

### 2ï¸âƒ£ å®‰è£…å‰ç«¯ä¾èµ–

```bash
pnpm install
```

### 3ï¸âƒ£ åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒï¼ˆUVï¼‰

[uv](https://docs.astral.sh/uv/) æ˜¯ä¸€ä¸ªæé€Ÿçš„ Python åŒ…ç®¡ç†å™¨ï¼Œç”¨äºç®¡ç†é¡¹ç›®çš„ AI ä¾èµ–ã€‚

```bash
# å®‰è£… uvï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼‰
# Windows (PowerShell)
irm https://astral.sh/uv/install.ps1 | iex

# æˆ–ä½¿ç”¨ pip
pip install uv
```

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv sync

# å¦‚æœä½ æœ‰ NVIDIA GPUï¼Œä¾èµ–ä¼šè‡ªåŠ¨ä» PyTorch CUDA 12.4 ç´¢å¼•å®‰è£…
# é…ç½®å·²åœ¨ pyproject.toml ä¸­å®šä¹‰
```

<details>
<summary>ğŸ“¦ Python ä¾èµ–åˆ—è¡¨</summary>

| ä¾èµ– | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| `funasr` | >= 1.2.7 | é˜¿é‡Œ FunASR è¯­éŸ³è¯†åˆ« |
| `torch` | >= 2.4.0 | PyTorch æ·±åº¦å­¦ä¹  |
| `torchaudio` | >= 2.4.0 | éŸ³é¢‘å¤„ç† |
| `transformers` | >= 4.45.0 | HuggingFace æ¨¡å‹ |
| `huggingface-hub` | >= 0.24.0 | æ¨¡å‹ä¸‹è½½ç®¡ç† |
| `librosa` | >= 0.11.0 | éŸ³é¢‘åˆ†æ |
| `numpy` | < 2 | æ•°å€¼è®¡ç®— |

</details>

### 4ï¸âƒ£ å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨ Tauri å¼€å‘æ¨¡å¼ï¼ˆåŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯ï¼‰
pnpm tauri dev
```

è¿™å°†ä¼šï¼š
- å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ (http://localhost:1422)
- ç¼–è¯‘å¹¶è¿è¡Œ Tauri åº”ç”¨
- å¯åŠ¨ Python FunASR æœåŠ¡ï¼ˆåå°ï¼‰

### 5ï¸âƒ£ æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»º Windows å®‰è£…åŒ…
pnpm tauri build
```


---

## é¡¹ç›®ç»“æ„

```
light-whisper/
â”œâ”€â”€ ğŸ“ src/                      # å‰ç«¯æºç  (React + TypeScript)
â”‚   â”œâ”€â”€ ğŸ“ api/                  # Tauri API å°è£…
â”‚   â”‚   â”œâ”€â”€ funasr.ts            # FunASR è°ƒç”¨æ¥å£
â”‚   â”‚   â”œâ”€â”€ clipboard.ts         # å‰ªè´´æ¿æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ hotkey.ts            # å¿«æ·é”®æ§åˆ¶
â”‚   â”‚   â””â”€â”€ window.ts            # çª—å£ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“ pages/                # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MainPage.tsx         # ä¸»ç•Œé¢ï¼ˆå½•éŸ³/è½¬å†™ï¼‰
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx     # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ hooks/                # React Hooks
â”‚   â”‚   â”œâ”€â”€ useRecording.ts      # éŸ³é¢‘å½•åˆ¶é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ useModelStatus.ts    # æ¨¡å‹çŠ¶æ€ç›‘å¬
â”‚   â”‚   â”œâ”€â”€ useHotkey.ts         # F2 å¿«æ·é”®
â”‚   â”‚   â””â”€â”€ useTheme.ts          # ä¸»é¢˜åˆ‡æ¢
â”‚   â”œâ”€â”€ ğŸ“ contexts/             # React Context
â”‚   â”‚   â””â”€â”€ RecordingContext.tsx # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ main.tsx                 # åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ ğŸ“ src-tauri/                # åç«¯æºç  (Rust + Tauri)
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs               # æ ¸å¿ƒåº”ç”¨é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ main.rs              # ç¨‹åºå…¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“ commands/         # Tauri å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ funasr.rs        # FunASR ç›¸å…³å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ clipboard.rs     # å‰ªè´´æ¿å‘½ä»¤
â”‚   â”‚   â”‚   â””â”€â”€ hotkey.rs        # å¿«æ·é”®å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/         # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ funasr_service.rs # FunASR è¿›ç¨‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“ state/            # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ app_state.rs     # åº”ç”¨çŠ¶æ€
â”‚   â”‚   â””â”€â”€ ğŸ“ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚       â”œâ”€â”€ error.rs         # é”™è¯¯å¤„ç†
â”‚   â”‚       â””â”€â”€ paths.rs         # è·¯å¾„ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“ resources/            # Python è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ funasr_server.py     # FunASR æœåŠ¡ä¸»ä½“
â”‚   â”‚   â””â”€â”€ download_models.py   # æ¨¡å‹ä¸‹è½½å·¥å…·
â”‚   â”œâ”€â”€ Cargo.toml               # Rust ä¾èµ–é…ç½®
â”‚   â””â”€â”€ tauri.conf.json          # Tauri åº”ç”¨é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ assets/                   # é™æ€èµ„æº
â”‚   â””â”€â”€ icon.png                 # åº”ç”¨å›¾æ ‡
â”‚
â”œâ”€â”€ package.json                 # å‰ç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ pyproject.toml               # Python ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.ts               # Vite æ„å»ºé…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ”§ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Light-Whisper                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   React å‰ç«¯    â”‚  â”‚   Rust åç«¯     â”‚  â”‚  Python AI  â”‚ â”‚
â”‚  â”‚  (TypeScript)   â”‚  â”‚   (Tauri 2)     â”‚  â”‚  (FunASR)   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ å½•éŸ³ç•Œé¢      â”‚  â”‚ â€¢ è¿›ç¨‹ç®¡ç†      â”‚  â”‚ â€¢ Paraformerâ”‚ â”‚
â”‚  â”‚ â€¢ çŠ¶æ€æ˜¾ç¤º      â”‚â—„â”€â”¼â”€â€¢ IPC é€šä¿¡      â”‚â”€â”€â”¼â”€â€¢ VAD       â”‚ â”‚
â”‚  â”‚ â€¢ ä¸»é¢˜åˆ‡æ¢      â”‚  â”‚ â€¢ ç³»ç»Ÿæ‰˜ç›˜      â”‚  â”‚ â€¢ æ ‡ç‚¹æ¢å¤  â”‚ â”‚
â”‚  â”‚ â€¢ è®¾ç½®é¡µé¢      â”‚  â”‚ â€¢ å¿«æ·é”®        â”‚  â”‚ â€¢ GPU åŠ é€Ÿ  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                   â”‚                   â”‚         â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                               â”‚                             â”‚
â”‚                    Tauri IPC / JSON stdin/stdout            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


---

## ğŸ¤” å¸¸è§é—®é¢˜

<details>
<summary><b>Q: æ¨¡å‹ä¸‹è½½å¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ</b></summary>

æ¨¡å‹ä» HuggingFace Hub ä¸‹è½½ï¼Œå¦‚æœç½‘ç»œè¾ƒæ…¢ï¼Œå¯ä»¥ï¼š

1. ä½¿ç”¨ä»£ç†æˆ–é•œåƒ
2. æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹åˆ° HuggingFace ç¼“å­˜ç›®å½•

ç¼“å­˜ç›®å½•ä½ç½®ï¼š
- Windows: `C:\Users\<ç”¨æˆ·>\.cache\huggingface\hub\`
- Linux/macOS: `~/.cache/huggingface/hub/`

éœ€è¦ä¸‹è½½çš„æ¨¡å‹ï¼š
- `funasr/paraformer-zh` (ASR ä¸»æ¨¡å‹)
- `funasr/fsmn-vad` (è¯­éŸ³æ´»åŠ¨æ£€æµ‹)
- `funasr/ct-punc` (æ ‡ç‚¹ç¬¦å·)

</details>

<details>
<summary><b>Q: å¦‚ä½•åˆ‡æ¢ GPU/CPU æ¨¡å¼ï¼Ÿ</b></summary>

åº”ç”¨ä¼šè‡ªåŠ¨æ£€æµ‹æ˜¯å¦æœ‰å¯ç”¨çš„ NVIDIA GPUï¼š
- æœ‰ GPUï¼šè‡ªåŠ¨ä½¿ç”¨ CUDA åŠ é€Ÿ
- æ—  GPUï¼šå›é€€åˆ° CPU æ¨¡å¼

å¦‚éœ€å¼ºåˆ¶ä½¿ç”¨ CPUï¼Œå¯è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
set CUDA_VISIBLE_DEVICES=-1
```

</details>

<details>
<summary><b>Q: F2 å¿«æ·é”®è¢«å…¶ä»–ç¨‹åºå ç”¨ï¼Ÿ</b></summary>

ç›®å‰ F2 å¿«æ·é”®æ˜¯ç¡¬ç¼–ç çš„ã€‚å¦‚éœ€ä¿®æ”¹ï¼Œå¯ä»¥ç¼–è¾‘ï¼š
- `src/hooks/useHotkey.ts` - å‰ç«¯å¿«æ·é”®ç›‘å¬
- `src-tauri/src/commands/hotkey.rs` - åç«¯å¿«æ·é”®æ³¨å†Œ

</details>

<details>
<summary><b>Q: å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ</b></summary>

æ—¥å¿—ä½ç½®ï¼š
- Windows: `%APPDATA%\light-whisper\logs\`
- åŒ…å« `funasr_server.log` å’Œ Tauri åº”ç”¨æ—¥å¿—

</details>

---

## ğŸ“ å¼€å‘å‘½ä»¤é€ŸæŸ¥

```bash
# å¼€å‘æ¨¡å¼
pnpm tauri dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm tauri build

# ä»…æ„å»ºå‰ç«¯
pnpm build

# é¢„è§ˆå‰ç«¯
pnpm preview

# æ›´æ–° Python ä¾èµ–
uv sync

# æ·»åŠ æ–°çš„ Python ä¾èµ–
uv add <package>

# æ£€æŸ¥ Rust ä»£ç 
cd src-tauri && cargo check

# æ ¼å¼åŒ– Rust ä»£ç 
cd src-tauri && cargo fmt
```

---

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäº [**ququ**](https://github.com/yan5xu/ququ) ä¿®æ”¹å¼€å‘ï¼Œæ„Ÿè°¢åŸä½œè€…çš„è´¡çŒ®ï¼

- [ququ](https://github.com/yan5xu/ququ) - åŸå§‹é¡¹ç›®
- [FunASR](https://github.com/modelscope/FunASR) - é˜¿é‡Œè¾¾æ‘©é™¢å¼€æºè¯­éŸ³è¯†åˆ«
- [Tauri](https://tauri.app/) - ç°ä»£åŒ–æ¡Œé¢åº”ç”¨æ¡†æ¶
- [React](https://react.dev/) - ç”¨æˆ·ç•Œé¢åº“
- [Tailwind CSS](https://tailwindcss.com/) - åŸå­åŒ– CSS æ¡†æ¶

---

## ğŸ“„ è®¸å¯è¯

This project is licensed under the [Apache License 2.0](LICENSE).

---

<div align="center">

**å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Starï¼**

</div>
